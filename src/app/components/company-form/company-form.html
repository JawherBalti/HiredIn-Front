<div class="company-form-container">
    <h2 class="company-form-header">
    <button mat-icon-button class="back-button" (click)="goBack()">
      <mat-icon>arrow_back</mat-icon>
    </button>
    {{ isEditMode ? "Edit" : "Create" }} Company
  </h2>
  <form [formGroup]="companyForm" (ngSubmit)="onSubmit()">
    <div class="form-grid">
      <div class="form-group">
        <label for="logo" class="form-label">Company Logo</label>
        <input
          name="cover"
          (change)="select($event)"
          type="file"
          class="form-control m-1"
          placeholder="image"
        />
      </div>
      <!-- Company Name -->
      <div class="form-group">
        <label for="name" class="form-label">Company Name *</label>
        <input
          type="text"
          class="form-control"
          id="name"
          formControlName="name"
          placeholder="e.g. Tech Corp Inc."
        />
        <div
          *ngIf="
            companyForm.get('name')?.invalid && companyForm.get('name')?.touched
          "
          class="validation-error"
        >
          Company name is required
        </div>
      </div>

      <!-- Website -->
      <div class="form-group">
        <label for="website" class="form-label">Website</label>
        <input
          type="url"
          class="form-control"
          id="website"
          formControlName="website"
          placeholder="https://example.com"
        />
        <div
          *ngIf="
            companyForm.get('website')?.invalid &&
            companyForm.get('website')?.touched
          "
          class="validation-error"
        >
          Please enter a valid URL
        </div>
      </div>

      <!-- Industry -->
      <div class="form-group">
        <label for="industry" class="form-label">Industry</label>
        <select class="form-control" id="industry" formControlName="industry">
          <option value="">Select Industry</option>
          <option value="Technology">Technology</option>
          <option value="Finance">Finance</option>
          <option value="Healthcare">Healthcare</option>
          <option value="Education">Education</option>
          <option value="Retail">Retail</option>
          <option value="Other">Other</option>
        </select>
      </div>

      <!-- Description -->
      <div class="form-group full-width">
        <label for="description" class="form-label">Description</label>
        <textarea
          class="form-control"
          id="description"
          formControlName="description"
          rows="3"
          placeholder="Brief description about the company"
        ></textarea>
      </div>
    </div>

    <!-- Form Actions -->
    <div class="form-actions">
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="loading || !companyForm.valid"
      >
        <!-- Show spinner when loading, otherwise show text -->
        <mat-spinner
          *ngIf="loading"
          diameter="20"
          class="button-spinner"
        ></mat-spinner>
        <span *ngIf="!loading">
          {{ isEditMode ? "Update" : "Create" }} Company
        </span>
      </button>
      <button
        type="button"
        (click)="goBack()"
        class="btn btn-secondary"
        [disabled]="loading"
      >
        Cancel
      </button>
    </div>
  </form>
</div>
