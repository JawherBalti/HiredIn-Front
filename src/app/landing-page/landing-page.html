<div class="landing-container">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-container">
      <div class="hero-text">
        <h1 class="hero-title">
          Streamline Your <span class="highlight">Job Search</span>
        </h1>
        <p class="hero-subtitle">
          Organize applications, track progress, and land your dream job faster
        </p>
        <div class="hero-cta">
          <button
            mat-raised-button
            color="primary"
            class="cta-button"
            (click)="handleGetStarted()"
          >
            Get Started For Free
          </button>
          <button mat-stroked-button color="primary" class="secondary-button">
            See How It Works
          </button>
        </div>
      </div>
      <div class="hero-image">
        <img
          src="../../../public/assets/images/undraw_interview_yz52.svg"
          alt=""
        />
      </div>
    </div>
  </section>

  <!-- Featured Jobs Section -->
  <section class="jobs-section">
    <div class="section-header">
      <h2>Featured <span class="highlight">Jobs</span></h2>
      <p>Curated opportunities from top companies</p>
    </div>

    <div class="carousel-container">
      <button
        mat-icon-button
        class="nav-button prev"
        (click)="prevSlide()"
        [disabled]="currentSlide === 0"
      >
        <mat-icon>chevron_left</mat-icon>
      </button>

      <div class="carousel-wrapper">
        <div
          *ngIf="!isLoading; else loading"
          class="carousel"
          [style.transform]="
            'translateX(' + -currentSlide * (50 / visibleSlides) + '%)'
          "
        >
          <div *ngFor="let job of jobOffers; let i = index" class="job-card">
            <div class="job-badge">{{ job?.type }}</div>
            <div class="job-content">
              <div class="company-logo">
                <img
                  [src]="job?.company?.logo_url"
                  [alt]="job.company + ' logo'"
                />
              </div>
              <div class="job-info">
                <h3>{{ job?.title }}</h3>
                <p class="company">{{ job?.company?.name }}</p>
                <div class="job-meta">
                  <span class="location">
                    <mat-icon>location_on</mat-icon>
                    {{ job?.location }}
                  </span>
                  <span class="salary">
                    <mat-icon>attach_money</mat-icon>
                    {{ job?.salary }}
                  </span>
                </div>
              </div>
            </div>
            <div class="job-footer">
              <span class="posted-date"
                >Posted {{ job?.created_at! | dateAgo }}</span
              >
              <button
                mat-stroked-button
                class="apply-button"
                [routerLink]="['/job-offers', job.id]"
              >
                Quick Apply
              </button>
            </div>
          </div>
        </div>
        <ng-template #loading>
          <div *ngIf="isLoading" class="spinner-container">
            <div class="spinner"></div>
          </div>
        </ng-template>
      </div>

      <button
        mat-icon-button
        class="nav-button next"
        (click)="nextSlide()"
        [disabled]="currentSlide >= jobOffers.length - visibleSlides"
      >
        <mat-icon>chevron_right</mat-icon>
      </button>
    </div>
    <div
      style="
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 50px;
      "
    >
      <div class="carousel-indicators">
        <button
          *ngFor="
            let _ of createRange(jobOffers.length - visibleSlides + 1);
            let i = index
          "
          [class.active]="i === currentSlide"
          (click)="goToSlide(i)"
        ></button>
      </div>
      <a class="see-all-link" routerLink="/job-offers"
        >See all jobs

        <svg
          fill="#3f51b5"
          width="64px"
          height="64px"
          viewBox="-1.2 -1.2 26.40 26.40"
          xmlns="http://www.w3.org/2000/svg"
          transform="matrix(1, 0, 0, 1, 0, 0)rotate(0)"
          stroke="#3f51b5"
          stroke-width="1.2"
        >
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke="#CCCCCC"
            stroke-width="0.048"
          ></g>
          <g id="SVGRepo_iconCarrier">
            <path
              d="m11.293 17.293 1.414 1.414L19.414 12l-6.707-6.707-1.414 1.414L15.586 11H6v2h9.586z"
            ></path>
          </g>
        </svg>
      </a>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="testimonials-section">
    <h2 class="section-title">What Our Users Say</h2>
    <div class="testimonials-grid">
      <div *ngFor="let testimonial of testimonials" class="testimonial-card">
        <div class="rating">
          <span *ngFor="let star of [1, 2, 3, 4, 5]">â˜…</span>
        </div>
        <p class="testimonial-text">"{{ testimonial.text }}"</p>
        <div class="user-info">
          <img [src]="testimonial.avatar" alt="User avatar" class="avatar" />
          <div>
            <p class="user-name">{{ testimonial.name }}</p>
            <p class="user-title">{{ testimonial.title }}</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="landing-footer">
    <div class="footer-content">
      <div class="footer-logo">
        <img src="assets/images/hiredin_logo.PNG" alt="HiredIn Logo" />
        <p>Your career companion</p>
      </div>
      <div class="footer-links">
        <div class="link-column">
          <h3>Product</h3>
          <a href="#">Features</a>
          <a href="#">Pricing</a>
          <a href="#">FAQ</a>
        </div>
        <div class="link-column">
          <h3>Company</h3>
          <a href="#">About</a>
          <a href="#">Blog</a>
          <a href="#">Contact</a>
        </div>
        <div class="link-column">
          <h3>Legal</h3>
          <a href="#">Privacy</a>
          <a href="#">Terms</a>
          <a href="#">Cookies</a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; {{ currentYear }} HiredIn. All rights reserved.</p>
    </div>
  </footer>
</div>
